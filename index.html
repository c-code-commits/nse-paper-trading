<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1.0">
<title>NSE Paper Trading Dashboard</title>
<style>
:root{--bg:#0f1117;--card:#161b22;--bdr:#21262d;--tx:#e1e4e8;--mt:#8b949e;--dm:#484f58;--gn:#3fb950;--rd:#f85149;--bl:#58a6ff;--yl:#d29922;--gnb:#0d4429;--rdb:#3d1e20;--blb:#0c2d6b}
[data-theme="light"]{--bg:#f6f8fa;--card:#fff;--bdr:#d0d7de;--tx:#1f2328;--mt:#656d76;--dm:#8b949e;--gn:#1a7f37;--rd:#cf222e;--bl:#0969da;--yl:#9a6700;--gnb:#dafbe1;--rdb:#ffebe9;--blb:#ddf4ff}
*{margin:0;padding:0;box-sizing:border-box}
body{font-family:-apple-system,BlinkMacSystemFont,'Segoe UI',Roboto,sans-serif;background:var(--bg);color:var(--tx);line-height:1.5;padding:12px;max-width:1100px;margin:0 auto;font-size:14px;transition:background .3s,color .3s}
a{color:var(--bl);text-decoration:none}
.hdr{text-align:center;padding:16px 0 8px;border-bottom:1px solid var(--bdr)}.hdr h1{font-size:1.3rem;font-weight:600}.hdr .meta{font-size:.75rem;color:var(--mt);margin-top:4px}
.mb{display:inline-block;padding:2px 10px;border-radius:12px;font-size:.65rem;font-weight:700}
.mo{background:var(--gnb);color:var(--gn)}.mc{background:var(--rdb);color:var(--rd)}
.sgrp{margin:14px 0 6px;padding:10px 14px;background:var(--card);border:1px solid var(--bdr);border-radius:8px}
.sgrp h3{font-size:.78rem;margin-bottom:8px;display:flex;justify-content:space-between;align-items:center}
.sgrp h3 a{font-size:.7rem;font-weight:400}
.srow{display:grid;grid-template-columns:repeat(auto-fit,minmax(110px,1fr));gap:8px}
.si{text-align:center}.si .l{font-size:.6rem;color:var(--mt);text-transform:uppercase;letter-spacing:.4px}.si .v{font-size:1.05rem;font-weight:700;margin-top:1px}
.pos{color:var(--gn)}.neg{color:var(--rd)}.neu{color:var(--mt)}
.tb{display:flex;justify-content:space-between;align-items:center;flex-wrap:wrap;gap:6px;margin:10px 0;font-size:.75rem;color:var(--mt)}
.tbr{display:flex;align-items:center;gap:6px;flex-wrap:wrap}
.btn{background:var(--card);color:var(--tx);border:1px solid var(--bdr);padding:4px 12px;border-radius:6px;cursor:pointer;font-size:.72rem}.btn:hover{background:var(--bdr)}
.tabs{display:flex;gap:0;margin:14px 0 10px;border-bottom:2px solid var(--bdr)}
.tab{padding:8px 18px;cursor:pointer;font-size:.82rem;font-weight:600;color:var(--mt);border-bottom:2px solid transparent;margin-bottom:-2px;transition:all .2s}
.tab:hover{color:var(--tx)}.tab.act{color:var(--bl);border-bottom-color:var(--bl)}
.pane{display:none}.pane.act{display:block}
.row{background:var(--card);border:1px solid var(--bdr);border-radius:8px;padding:8px 12px;margin-bottom:5px;display:grid;grid-template-columns:1.8fr .6fr .7fr .7fr .8fr .6fr .8fr .7fr .5fr;gap:6px;align-items:center;font-size:.78rem}
.row .rn{font-weight:600;font-size:.78rem}.row .rt{font-size:.65rem;color:var(--mt);font-family:monospace}.row .rv{font-weight:600;text-align:right}
.rhdr{font-size:.58rem;color:var(--mt);text-transform:uppercase;font-weight:600;background:transparent;border:none;padding:4px 12px}
.rhdr div{text-align:right}
.rhdr div:first-child{text-align:left}
.bg{padding:2px 6px;border-radius:8px;font-size:.52rem;font-weight:700;text-transform:uppercase}
.bo{background:var(--gnb);color:var(--gn)}.bn{background:var(--blb);color:var(--bl)}.br{background:var(--rdb);color:var(--rd)}.bt{background:#1b6b2e;color:#7ee787}.bs{background:#6e1b1b;color:#ff7b72}.bp{background:#3d2e00;color:var(--yl)}
.links{display:flex;gap:10px;justify-content:center;margin:10px 0;font-size:.8rem}
.ld{text-align:center;padding:30px;color:var(--mt)}
.sp{display:inline-block;width:18px;height:18px;border:2px solid var(--bdr);border-top-color:var(--bl);border-radius:50%;animation:spn .7s linear infinite;margin-right:6px;vertical-align:middle}
@keyframes spn{to{transform:rotate(360deg)}}
.ft{text-align:center;padding:16px 0;font-size:.65rem;color:var(--dm);border-top:1px solid var(--bdr);margin-top:16px}
@media(max-width:700px){.row{grid-template-columns:1.5fr .5fr .6fr .6fr .7fr .7fr .5fr;font-size:.7rem}.row .rn{font-size:.7rem}.row .hide-m{display:none}.rhdr .hide-m{display:none}}
</style>
</head>
<body>
<div class="hdr">
<h1>NSE Paper Trading Dashboard</h1>
<div class="meta">Total Capital: &#8377;2,00,000 | 8 stocks, 2 sets | Paper purchase: 20 Feb 2026 <span id="mbi" class="mb mc">LOADING</span></div>
</div>
<div class="links">
<a href="set1-concentrated-bets.html">Set 1 Full View</a>
<a href="set2-under1000.html">Set 2 Full View</a>
<button class="btn" onclick="thm()">&#9681; Theme</button>
</div>

<div class="sgrp" id="sg1">
<h3>Set 1 &#8212; Concentrated Bets <a href="set1-concentrated-bets.html">Full view &#8594;</a></h3>
<div class="srow">
<div class="si"><div class="l">Invested</div><div class="v" id="s1I">--</div></div>
<div class="si"><div class="l">Current Value</div><div class="v" id="s1C">--</div></div>
<div class="si"><div class="l">Gross P&amp;L</div><div class="v" id="s1P">--</div></div>
<div class="si"><div class="l">Gross Return</div><div class="v" id="s1R">--</div></div>
</div>
</div>
<div class="sgrp" id="sg2">
<h3>Set 2 &#8212; Under &#8377;1,000 Stocks <a href="set2-under1000.html">Full view &#8594;</a></h3>
<div class="srow">
<div class="si"><div class="l">Invested</div><div class="v" id="s2I">--</div></div>
<div class="si"><div class="l">Current Value</div><div class="v" id="s2C">--</div></div>
<div class="si"><div class="l">Gross P&amp;L</div><div class="v" id="s2P">--</div></div>
<div class="si"><div class="l">Gross Return</div><div class="v" id="s2R">--</div></div>
</div>
</div>

<div class="tb">
<span id="lu">Last updated: --</span>
<div class="tbr"><span id="at"></span><button class="btn" onclick="go()">&#8635; Refresh</button></div>
</div>
<div class="tabs">
<div class="tab act" onclick="sw(0)">All 8 Stocks</div>
<div class="tab" onclick="sw(1)">Set 1 Concentrated</div>
<div class="tab" onclick="sw(2)">Set 2 Under 1K</div>
</div>
<div id="p0" class="pane act"><div class="ld"><span class="sp"></span>Loading...</div></div>
<div id="p1" class="pane"><div class="ld"><span class="sp"></span>Loading...</div></div>
<div id="p2" class="pane"><div class="ld"><span class="sp"></span>Loading...</div></div>
<div class="ft">Data: Yahoo Finance via allorigins.win | Pen-and-paper only | Not financial advice</div>
<script>
var S1=[{n:"Dr Reddy's",tk:"DRREDDY",sy:"DRREDDY.NS",bp:1285.0,q:19,tg:1530,sl:1180},{n:"Coforge",tk:"COFORGE",sy:"COFORGE.NS",bp:1359.80,q:18,tg:1650,sl:1260},{n:"Coal India",tk:"COALINDIA",sy:"COALINDIA.NS",bp:420.70,q:59,tg:500,sl:380},{n:"GHCL",tk:"GHCL",sy:"GHCL.NS",bp:494.50,q:50,tg:660,sl:500}];
var S2=[{n:"ITC",tk:"ITC",sy:"ITC.NS",bp:327.40,q:76,tg:390,sl:295},{n:"IRCTC",tk:"IRCTC",sy:"IRCTC.NS",bp:646.90,q:38,tg:750,sl:565},{n:"Oswal Pumps",tk:"OSWALPUMPS",sy:"OSWALPUMPS.NS",bp:343.25,q:72,tg:430,sl:310},{n:"Zaggle",tk:"ZAGGLE",sy:"ZAGGLE.NS",bp:238.95,q:104,tg:320,sl:225}];
var ALL=S1.concat(S2),PX="https://api.allorigins.win/get?url=",tm=null,TAX=.208,TXC=345;
function fI(v){if(v==null||isNaN(v))return"--";var g=v<0,a=Math.abs(v);return(g?"-":"")+"\u20B9"+a.toLocaleString("en-IN",{minimumFractionDigits:2,maximumFractionDigits:2})}
function fS(v){if(v==null||isNaN(v))return"--";return"\u20B9"+v.toLocaleString("en-IN",{minimumFractionDigits:2,maximumFractionDigits:2})}
function fP(v){if(v==null||isNaN(v))return"--";return(v>=0?"+":"")+v.toFixed(2)+"%"}
function cl(v){return v>0.01?"pos":v<-0.01?"neg":"neu"}
function ism(){var d=new Date(),i=new Date(d.toLocaleString("en-US",{timeZone:"Asia/Kolkata"})),w=i.getDay(),m=i.getHours()*60+i.getMinutes();return w>0&&w<6&&m>=555&&m<=930}
async function fp(sy,rt){rt=rt||0;try{var u=PX+encodeURIComponent("https://query1.finance.yahoo.com/v8/finance/chart/"+sy+"?interval=1d&range=5d");var r=await fetch(u),w=await r.json(),d=JSON.parse(w.contents),m=d.chart.result[0].meta;return{p:m.regularMarketPrice,pc:m.chartPreviousClose}}catch(e){if(rt<2){await new Promise(function(r){setTimeout(r,1500)});return fp(sy,rt+1)}throw e}}
function gs(c,bp,tg,sl){if(c<=sl)return{t:"SL HIT",c:"bs"};if(c>=tg)return{t:"TARGET",c:"bt"};if(((c-bp)/bp)*100>=12)return{t:"PARTIAL",c:"bp"};if(((tg-c)/(tg-bp))*100<=20)return{t:"NEAR",c:"bn"};if(((c-sl)/(bp-sl))*100<=30)return{t:"RISK",c:"br"};return{t:"OK",c:"bo"}}

function rp(stocks,results,id){
var h='<div class="row rhdr"><div>Stock</div><div>Qty</div><div>Buy</div><div>Target</div><div>Current</div><div class="hide-m">Day Chg</div><div>P&amp;L</div><div>Return</div><div>Status</div></div>';
stocks.forEach(function(s,i){
var r=results[i],p=r&&r.p?r.p:null;
var pl=p?(p-s.bp)*s.q:0,plp=p?((p-s.bp)/s.bp*100):0;
var dcp=p&&r.pc?((p-r.pc)/r.pc*100):0;
var st=p?gs(p,s.bp,s.tg,s.sl):{t:"--",c:""};
h+='<div class="row"><div><span class="rn">'+s.n+'</span><br><span class="rt">'+s.tk+'</span></div>';
h+='<div class="rv">'+s.q+'</div>';
h+='<div class="rv">'+fS(s.bp)+'</div>';
h+='<div class="rv">'+fS(s.tg)+'</div>';
h+='<div class="rv '+(p?cl(p-s.bp):"")+'">'+(p?fI(p):"--")+'</div>';
h+='<div class="rv hide-m '+cl(dcp)+'">'+(p?fP(dcp):"--")+'</div>';
h+='<div class="rv '+cl(pl)+'">'+(p?fI(pl):"--")+'</div>';
h+='<div class="rv '+cl(plp)+'">'+(p?fP(plp):"--")+'</div>';
h+='<div style="text-align:center">'+(st.c?'<span class="bg '+st.c+'">'+st.t+'</span>':"--")+'</div></div>'});
document.getElementById(id).innerHTML=h}

function setSum(pfx,stocks,results){
var tI=0,tC=0;
stocks.forEach(function(s,i){var inv=s.bp*s.q;tI+=inv;var r=results[i];tC+=r&&r.p?r.p*s.q:inv});
var tPL=tC-tI,tPP=(tPL/tI)*100;
document.getElementById(pfx+"I").textContent=fI(tI);
var e;
e=document.getElementById(pfx+"C");e.textContent=fI(tC);e.className="v "+cl(tPL);
e=document.getElementById(pfx+"P");e.textContent=fI(tPL);e.className="v "+cl(tPL);
e=document.getElementById(pfx+"R");e.textContent=fP(tPP);e.className="v "+cl(tPP);
}

async function go(){
var b=document.getElementById("mbi"),o=ism();
b.textContent=o?"MARKET OPEN":"MARKET CLOSED";
b.className="mb "+(o?"mo":"mc");
var R=await Promise.all(ALL.map(async function(s){try{return await fp(s.sy)}catch(e){return{p:null}}}));
var R1=R.slice(0,4),R2=R.slice(4);
rp(ALL,R,"p0");
rp(S1,R1,"p1");
rp(S2,R2,"p2");
setSum("s1",S1,R1);
setSum("s2",S2,R2);
document.getElementById("lu").textContent="Updated: "+new Date().toLocaleString("en-IN",{timeZone:"Asia/Kolkata"});
if(tm)clearTimeout(tm);var el=document.getElementById("at");
if(ism()){el.textContent="Auto: 60s ";tm=setTimeout(go,60000)}else el.textContent="Auto paused "}
function sw(n){document.querySelectorAll(".tab").forEach(function(t,i){t.className="tab"+(i===n?" act":"")});document.querySelectorAll(".pane").forEach(function(p,i){p.className="pane"+(i===n?" act":"")})}
function thm(){var b=document.body;b.dataset.theme=b.dataset.theme==="light"?"":"light";localStorage.setItem("thm",b.dataset.theme||"dark")}
(function(){if(localStorage.getItem("thm")==="light")document.body.dataset.theme="light"})();
go();
</script>
</body>
</html>
